<!-- Header -->
<%- include('header.ejs') %>

<!-- Main Content -->
<div class="editable-form" id="main">
    <h2 class="text-center">Edit the academic evaluation form</h2>
<form action="/evaluations/academic/<%= academic._id %>/update" method="post">
    <input type="hidden" name="userId" value="<%= user._id %>">
    <input type="hidden" name="evaluatorName" value="<%= user.name %>">
    <div class="mb-3">
        <label for="school" class="form-label">School Name</label>
        <select name="school" id="school" class="form-control form-select" required>
            <option value="Pakiza Play School 1" <% if(academic.school === "Pakiza Play School 1"){ %> selected <% } %> >Pakiza Play School 1</option>
            <option value="Pakiza Play School 2" <% if(academic.school === "Pakiza Play School 2"){ %> selected <% } %> >Pakiza Play School 2</option>
            <option value="Pakiza Play School 3" <% if(academic.school == "Pakiza Play School 3"){ %> selected <% } %> >Pakiza Play School 3</option>
            <option value="Pakiza Public School" <% if(academic.school === "Pakiza Public School"){ %>  selected <% } %> >Pakiza Public School</option>
            <option value="Zeenat Public School" <% if(academic.school === "Zeenat Public School"){ %> selected <% } %> >Zeenat Public School</option>
            <option value="Taiba Edu Complex" <% if(academic.school === "Taiba Edu Complex"){ %> selected <% } %> >Taiba Edu Complex</option>
            <option value="Ahamad Noor Memorial School" <% if(academic.school === "Ahamad Noor Memorial School"){ %> selected <% } %> >Ahmad Noor Memorial School</option>
            <option value="St. Mariyam Higher Secondary School" <% if(academic.school === "St. Mariyam Higher Secondary School"){ %> selected <% } %> >St. Mariyam Higher Secondary School</option>
        </select>
        <label for="teacher" class="form-label">Teacher Full Name</label>
        <input type="text" class="form-control" name="teacher" id="teacher" value="<%= academic.teacher %>" placeholder="Enter full name" value required>
    </div>
    <div class="mb-3">
        <!-- Class Handling -->
        <label for="classHandling" class="form-label">Class Handling</label>
        <input type="text" class="form-control" name="classHandling" id="classHandling" value="<%= academic.classHandling %>" placeholder="Class Handling" required>  
        <!-- Timing -->
        <label for="timing" class="form-label">Timings</label>
        <input type="text" class="form-control" name="timing" id="timing" value="<%= academic.timing %>"  placeholder="Enter timings" required>
        <!-- Experiance in Years -->
        <label for="yoe" class="form-label">Years of Experience</label>
        <input type="number" class="form-control" name="yoe" id="yoe" value="<%= academic.yoe %>"  placeholder="Enter experience in years" required>
        <!-- Date of Joining -->
        <label for="doj" class="form-label">Date of Joining</label>
        <input type="date" class="form-control form-date" name="doj" id="doj" value="<%= academic.doj %>"  placeholder="Enter Date" required>
        <!-- Gender -->
        <label for="gender" class="form-label">Gender</label>
        <select name="gender" id="gender" class="form-control form-select" required>
            <option value="">Select Gender</option>
            <option value="Male" <% if(academic.gender === "Male"){ %> selected <% } %> >Male</option>
            <option value="Female" <% if(academic.gender === "Female"){ %> selected <% } %> >Female</option>
            <option value="Undisclosed" <% if(academic.gender === "Undisclosed"){ %> selected <% } %> >Undisclosed</option>
        </select>

        <!-- Date of Birth -->
        <label for="dob" class="form-label">Date of Birth</label>
        <input type="date" class="form-control form-calendar" name="dob" id="dob" value="<%= academic.dob %>"  placeholder="" required>

        <!-- Academic Qualifications -->
        <label for="academicQualification" class="form-label"><b>Academic Qualifications: </b></label>
        <input type="radio" name="academicQualification" id="academicQualification"  value="Below SSLC" 
        <% if(academic.academicQualification === "Below SSLC") { %> 
            checked 
        <% } %>
        > Below SSLC
        <input type="radio" name="academicQualification" id="academicQualification"  value="Higher Secondary" <% if(academic.academicQualification === "High School") { %> checked <% } %> required> High School
        <input type="radio" name="academicQualification" id="academicQualification"  value="Higher Secondary" <% if(academic.academicQualification === "Higher Secondary") { %> checked <% } %> required> Higher Secondary
        <input type="radio" name="academicQualification" id="academicQualification"  value="Graduation" <% if(academic.academicQualification === "Graduation") { %> checked <% } %> required> Graduation
        <input type="radio" name="academicQualification" id="academicQualification"  value="Post Graduation" <% if(academic.academicQualification === "Post Graduation") { %> checked <% } %> required> Post Graduation
        
        <!-- Marital Status -->
        <label for="maritalStatus" class="form-label">Marital Status</label>
        <select name="maritalStatus" class="form-control form-select" id="maritalStatus" required>
            <option value="">Select Marital Status</option>
            <option value="Unmarried" <% if(academic.maritalStatus === "Unmarried"){ %> selected <% } %> >Unmarried</option>
            <option value="Married" <% if(academic.maritalStatus === "Married"){ %> selected <% } %>>Married</option>
            <option value="Widow" <% if(academic.maritalStatus === "Widow"){ %> selected <% } %>>Widow</option>
        </select>

        <!-- Email -->
        <label for="email" class="form-label">Email address</label>
        <input type="email" class="form-control" name="email" id="email"  value="<%= academic.email %>"  placeholder="Email address">

         <!-- Mobile Number -->
         <label for="mobile" class="form-label">Mobile Number</label>
         <input type="text" class="form-control" name="mobile" id="mobile" value="<%= academic.mobile %>"  placeholder="Enter mobile number" required>

        <!-- Address -->
        <label for="address" class="form-label">Permanent Address</label>
        <input type="text" name="address" class="form-control" name="address" id="address" value="<%= academic.address %>"  placeholder="Enter Permanent Address" required>
        <!-- Current address -->
        <label for="currentAddress" class="form-label">Current Address</label>
        <input type="checkbox" id="sameAddress" onchange="equateValue();"> Same as above
        <input type="text" class="form-control" name="currentAddress" id="currentAddress"  value="<%= academic.currentAddress %>"  placeholder="Enter current address" required>
       
    </div>
    <div class="mb-3"  style="overflow-x: scroll;" >
        <!-- Academic List -->
        <h4>Parameters</h4>
        <table class="table table-bordered">
            <thead>
                <tr class="text-center">
                    <th>Sno</th>
                    <th>Parameters</th>
                    <th>Excellent (100 - 91)</th>
                    <th>Very Good (90 - 71)</th>
                    <th>Good (70 - 51)</th>
                    <th>Average (50 - 41)</th>
                    <th>Below Average</th>
                </tr>
            </thead>
            <tbody>
                <% 
                for (let i = 0; i < parameter.length; i++) { %>
                <tr class="text-center">
                    <td><%= i+1%></td>
                    <th><%= parameter[i] %></th>
                    <td><input type="radio" name="p<%= i+1%>" id="p<%= i+1%>" value="1" 
                        <%
                            if(academic.academicList[i] === "1"){
                        %>
                            checked
                        <% } %> ></td>
                    <td><input type="radio" name="p<%= i+1%>" id="p<%= i+1%>" value="2"
                        <%
                            if(academic.academicList[i] === "2"){
                        %>
                            checked
                        <% } %> ></td>
                    <td><input type="radio" name="p<%= i+1%>" id="p<%= i+1%>" value="3"
                        <%
                            if(academic.academicList[i] === "3"){
                        %>
                            checked
                        <% } %> ></td>
                    <td><input type="radio" name="p<%= i+1%>" id="p<%= i+1%>" value="4"
                        <%
                            if(academic.academicList[i] === "4"){
                        %>
                            checked
                        <% } %> ></td>
                    <td><input type="radio" name="p<%= i+1%>" id="p<%= i+1%>" value="5"
                        <%
                            if(academic.academicList[i] === "5"){
                        %>
                            checked
                        <% } %> ></td>
                    </tr> 
                <tr>
                <% } %>
                    <td colspan="7">
                        <div class="form-group">
                            <label for="comment">Any Special Note:</label>
                            <textarea class="form-control" rows="5" name="specialNote"  value="<%= academic.specialNote %>"  id="comment" placeholder="Any special note or comment regarding teacher (Maximum 200 words)" maxlength="200"><%= academic.specialNote %></textarea>
                        </div>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
    <button type="submit" class="btn btn-success">Update</button>
</form>
</div>

<!-- Footer -->
<%- include('footer.ejs') %>